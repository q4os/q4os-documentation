<html>
<head>
 <title>Easy way to create custom application installer</title>
 <font face="Arial, Liberation Sans, sans-serif">
 <style>
  h1 {
   font-size: 17pt;
  }
  h2 {
   font-size: 14pt;
  }
  h3 {
   font-size: 12pt;
  }
  pre {
   padding-top: 10px;
   padding-bottom: 10px;
   padding-right: 10px;
   padding-left: 10px;
   border: 1px dashed gray;
   font-size: 11pt;
   font-family: "monospace";
  }
  .tab1 {
   position: relative;
   left: 5px;
   line-height: 135%;
  }
  .tab2 {
   position: relative;
   left: 1em;
  }
 </style>
<!--  <link rel="stylesheet" href="../style.css"> -->
</head>

<body>

<p><font size="2" color="gray">Easy way to create custom application installer, developer manual, rev. 09/2024</font></p><hr>

<h1 align=center><a name="top">Easy way to create custom application installer</a></h1>
<p align=center>developer manual</p>
<span class="tab1">
1. <a href="#intro">Introduction</a><br>
2. <a href="#crspa">Example applications</a><br>
<span class="tab2">
2a. <a href="#2aaper">Apt installer</a><br>
2b. <a href="#2bfker">Flatpak installer</a><br>
2c. <a href="#2cdenr">Deb integration</a><br>
2d. <a href="#2danrr">Advanced installers</a><br>
</span>
3. <a href="#xtris">Extracting installer</a><br>
</span><br>

<br><h2><a name="intro">1.   Introduction</a></h2>
<p>This document describes, how to create Q4OS self-extracting convenient installer for your own applications, files and directory structure. This procedure will create both "*.deb" package for installation with "apt" command, and corresponding "*.qsi" - fully automated, convenient installer. The installer will flawlessly install and deliver the application to Q4OS users.</p>
<p>Before we can proceed creating an application, you need to install Q4OS Development Pack from repositories:</p>
<pre>$ sudo apt install q4os-devpack-base</pre>

<br><h2><a name="crspa">2.   Example applications</a></h2>
<h3><a name="2aaper">2a.   Apt installer</a></h3>
<p>In this example we create the most simple installer for single application from Apt repositories. Get installer configuration from template:</p>
<pre>$ cp -r /opt/program_files/q4os-devpack/examples/00_qinstaller/basic $HOME/example</pre>
Build the installer:
<pre>$ cd $HOME/example
$ build-qinstaller qinstaller1</pre>
<p>Find the created installer in $HOME/example1/setup</p>

<h3><a name="2bfker">2b.   Flatpak installer</a></h3>
<p>Go the same as for example 2a above, only replace "qinstaller1" template with "qinstaller2"</p>

<h3><a name="2cdenr">2c.   Deb integration</a></h3>
<p>We will create installer with a .deb file integrated. Get a simple sample application from development pack template, it will represent an application. Run commands in terminal to copy the template, you can use cut and paste into the terminal:</p>
<pre>$ cp -r /opt/program_files/q4os-devpack/examples/00_qinstaller/sample_app $HOME/my_sample_app</pre>
<p>The directory structure in "$HOME/my_sample_app/" represents our application. Let's go to build the installer now:</p>
<pre>$ cd $HOME/my_sample_app
$ dpkg-buildpackage -b -uc -us -tc</pre>
<p>Comfortable ".qsi" installer will be generated in your $HOME directory along with the regular Debian ".deb" package. You can now proceed testing installation of your application double-clicking "setup_sample-app_*.qsi" file.</p>
<a href="images_doc/dqa009/dqa009_01.png" style="border-bottom: none;"><img style="margin:0px 10px;padding:1px;border:thin solid #cccccc;" src="images_doc/dqa009/dqa009_01.png" width="400" height="" class="img" alt="" title="Comfortable installer will be generated" /></a>
<a href="images_doc/dqa009/dqa009_02.png" style="border-bottom: none;"><img style="margin:0px 10px;padding:1px;border:thin solid #cccccc;" src="images_doc/dqa009/dqa009_02.png" width="400" height="" class="img" alt="" title="You can now proceed testing installation of your application" /></a>
<p>Run the application from terminal:</p>
<pre>$ sample-app.sh</pre>
<a href="images_doc/dqa009/dqa009_03.png" style="border-bottom: none;"><img style="margin:0px 10px;padding:1px;border:none;" src="images_doc/dqa009/dqa009_03.png" width="176" height="" class="img" alt="" title="Run the sample application" /></a>
<p>To remove the installed application, run:</p>
<pre>$ sudo apt remove sample-app</pre>

<h3><a name="2danrr">2d.   Advanced installers</a></h3>
<p>Choose any of our official open source installers from <a href="https://github.com/q4os-installers">Q4OS Github account</a> as a template. Clone the installer and customize all the desired options.</p>

<br><h2><a name="xtris">3.   Extracting installers</a></h2>
<p>Extracting and looking into a compiled ".qsi" installer is easy. Copy the installer file into some working directory and run to extract its content in this directory:</p>
<pre>$ xqtrsetup</pre>

<br><hr>
<p><font size="2" color="gray">Easy way to create custom application installer, developer manual, rev. 09/2024</font></p>
<br><br><br><br>
</body>
</html>
